(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1921:function(e,s,a){Promise.resolve().then(a.bind(a,8821)),Promise.resolve().then(a.bind(a,2220)),Promise.resolve().then(a.bind(a,755))},8821:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return I}});var t=a(5444),r=a(9300),l=a(5762),n=a(9047),i=a(7839),d=a(9484),o=a(6772),c=a(1059),m=a(2422),f=a(4678),u=a(4635),x=a(1585);function h({onComplete:e}){let[s,a]=(0,r.useState)(""),[l,n]=(0,r.useState)("");return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 mb-4",children:(0,t.jsx)(d.Z,{className:"h-8 w-8 text-white"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Set Your Master Password"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2 text-sm",children:"This password encrypts your data. You'll need it every time you access your vault."})]}),(0,t.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6 flex gap-3",children:[(0,t.jsx)(o.Z,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,t.jsx)("strong",{children:"Important:"})," This is different from your login password. We cannot recover this password if you forget it. Please store it safely."]})]}),(0,t.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),s.length<8){x.A.error("Master password must be at least 8 characters");return}if(s!==l){x.A.error("Passwords do not match");return}sessionStorage.setItem("masterPassword",s),x.A.success("Master password set successfully!"),e(s)},className:"space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u._,{htmlFor:"masterPassword",children:"Master Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,t.jsx)(f.I,{id:"masterPassword",type:"password",placeholder:"Enter master password",value:s,onChange:e=>a(e.target.value),required:!0,className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u._,{htmlFor:"confirmPassword",children:"Confirm Master Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,t.jsx)(f.I,{id:"confirmPassword",type:"password",placeholder:"Confirm master password",value:l,onChange:e=>n(e.target.value),required:!0,className:"pl-10"})]})]}),(0,t.jsx)(m.z,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700",children:"Continue to Dashboard"})]})]})})})}var p=a(7480),b=a(2506),g=a(3572),y=a(7248),N=a(966),w=a(5522);let j=b.fC,v=b.xz;b.ZA,b.Uv,b.Tr,b.Ee,r.forwardRef(({className:e,inset:s,children:a,...r},l)=>(0,t.jsxs)(b.fF,{ref:l,className:(0,w.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 data-[state=open]:bg-gray-100",s&&"pl-8",e),...r,children:[a,(0,t.jsx)(g.Z,{className:"ml-auto h-4 w-4"})]})).displayName=b.fF.displayName,r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(b.tu,{ref:a,className:(0,w.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-gray-900 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=b.tu.displayName;let k=r.forwardRef(({className:e,sideOffset:s=4,...a},r)=>(0,t.jsx)(b.Uv,{children:(0,t.jsx)(b.VY,{ref:r,sideOffset:s,className:(0,w.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));k.displayName=b.VY.displayName;let C=r.forwardRef(({className:e,inset:s,...a},r)=>(0,t.jsx)(b.ck,{ref:r,className:(0,w.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...a}));C.displayName=b.ck.displayName,r.forwardRef(({className:e,children:s,checked:a,...r},l)=>(0,t.jsxs)(b.oC,{ref:l,className:(0,w.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(b.wU,{children:(0,t.jsx)(y.Z,{className:"h-4 w-4"})})}),s]})).displayName=b.oC.displayName,r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(b.Rk,{ref:r,className:(0,w.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(b.wU,{children:(0,t.jsx)(N.Z,{className:"h-2 w-2 fill-current"})})}),s]})).displayName=b.Rk.displayName;let R=r.forwardRef(({className:e,inset:s,...a},r)=>(0,t.jsx)(b.__,{ref:r,className:(0,w.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...a}));R.displayName=b.__.displayName;let P=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(b.Z0,{ref:a,className:(0,w.cn)("-mx-1 my-1 h-px bg-gray-200",e),...s}));P.displayName=b.Z0.displayName;var z=a(445);let _=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(z.fC,{ref:a,className:(0,w.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));_.displayName=z.fC.displayName;let S=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(z.Ee,{ref:a,className:(0,w.cn)("aspect-square h-full w-full",e),...s}));S.displayName=z.Ee.displayName;let Z=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(z.NY,{ref:a,className:(0,w.cn)("flex h-full w-full items-center justify-center rounded-full bg-gray-100",e),...s}));function E(){let{data:e}=(0,l.useSession)()||{},s=e?.user?.name?.split(" ").map(e=>e?.[0]).join("").toUpperCase()||"U";return(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Z,{className:"h-7 w-7 text-blue-600"}),(0,t.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"SecureNotes"})]}),(0,t.jsxs)(j,{children:[(0,t.jsx)(v,{asChild:!0,children:(0,t.jsx)(m.z,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,t.jsxs)(_,{className:"h-10 w-10",children:[(0,t.jsx)(S,{src:e?.user?.image||"",alt:e?.user?.name||""}),(0,t.jsx)(Z,{className:"bg-gradient-to-br from-blue-600 to-cyan-600 text-white",children:s})]})})}),(0,t.jsxs)(k,{align:"end",className:"w-56",children:[(0,t.jsx)(R,{children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium",children:e?.user?.name||"User"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e?.user?.email})]})}),(0,t.jsx)(P,{}),(0,t.jsxs)(C,{onClick:()=>{(0,l.signOut)({callbackUrl:"/signin"})},className:"cursor-pointer",children:[(0,t.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})]})})})}Z.displayName=z.NY.displayName;let U=(0,i.default)(()=>Promise.all([a.e(166),a.e(315),a.e(243)]).then(a.bind(a,6243)).then(e=>({default:e.VaultContent})),{loadableGenerated:{webpack:()=>[6243]},ssr:!1,loading:()=>(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading vault..."})]})});function I(){let{data:e,status:s}=(0,l.useSession)()||{},a=(0,n.useRouter)(),[i,d]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{if("loading"!==s){if("unauthenticated"===s){a.push("/signin");return}sessionStorage.getItem("masterPassword")&&d(!0),c(!1)}},[s,a]),"loading"===s||o)?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):i?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[(0,t.jsx)(E,{}),(0,t.jsx)(U,{})]}):(0,t.jsx)(h,{onComplete:()=>{d(!0)}})}},2422:function(e,s,a){"use strict";a.d(s,{z:function(){return o}});var t=a(5444),r=a(9300),l=a(223),n=a(2371),i=a(5522);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:s,size:a,asChild:r=!1,...n},o)=>{let c=r?l.g7:"button";return(0,t.jsx)(c,{className:(0,i.cn)(d({variant:s,size:a,className:e})),ref:o,...n})});o.displayName="Button"},4678:function(e,s,a){"use strict";a.d(s,{I:function(){return n}});var t=a(5444),r=a(9300),l=a(5522);let n=r.forwardRef(({className:e,type:s,...a},r)=>(0,t.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));n.displayName="Input"},4635:function(e,s,a){"use strict";a.d(s,{_:function(){return o}});var t=a(5444),r=a(9300),l=a(4100),n=a(2371),i=a(5522);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.f,{ref:a,className:(0,i.cn)(d(),e),...s}));o.displayName=l.f.displayName},5522:function(e,s,a){"use strict";a.d(s,{cn:function(){return l}});var t=a(2191),r=a(3607);function l(...e){return(0,r.m6)((0,t.W)(e))}}},function(e){e.O(0,[49,136,588,386,156,744],function(){return e(e.s=1921)}),_N_E=e.O()}]);