(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[315],{9293:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){var i;function o(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}y(e,t,s,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&y(e,"error",o,i))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=a(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,c=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return a(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,u=Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)r(a,this,t);else for(var c=a.length,l=h(a,c),n=0;n<c;++n)r(l[n],this,t);return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(u(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1804:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},3394:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},2429:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},8082:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6771:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},691:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},6124:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},6237:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},9429:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1471:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5076:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},563:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3485:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(2154).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5486:function(e,t,n){"use strict";n.d(t,{Z:function(){return eD}});class r extends Error{constructor(e,t,n){super(),this.status=e,this.name=t,this.message=n,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new r(401,"unauthorized","Name or password is incorrect."),new r(400,"bad_request","Missing JSON list of 'docs'"),new r(404,"not_found","missing"),new r(409,"conflict","Document update conflict"),new r(400,"bad_request","_id field must contain a string"),new r(412,"missing_id","_id is required for puts"),new r(400,"bad_request","Only reserved document ids may start with underscore."),new r(412,"precondition_failed","Database not open");var i=new r(500,"unknown_error","Database encountered an unknown error");function o(e){if("object"!=typeof e){var t=e;(e=i).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=Error().stack),e}new r(500,"badarg","Some query argument is invalid"),new r(400,"invalid_request","Request was invalid"),new r(400,"query_parse_error","Some query parameter is invalid"),new r(500,"doc_validation","Bad special document member"),new r(400,"bad_request","Something wrong with the request"),new r(400,"bad_request","Document must be a JSON object"),new r(404,"not_found","Database not found"),new r(500,"indexed_db_went_bad","unknown"),new r(500,"web_sql_went_bad","unknown"),new r(500,"levelDB_went_went_bad","unknown"),new r(403,"forbidden","Forbidden by design doc validate_doc_update function"),new r(400,"bad_request","Invalid rev format"),new r(412,"file_exists","The database could not be created, the file already exists."),new r(412,"missing_stub","A pre-existing attachment stub wasn't found"),new r(413,"invalid_url","Provided URL is invalid");var s=Headers;function u(e,t){if(e===t)return 0;e=a(e),t=a(t);var n,r,i=l(e),o=l(t);if(i-o!=0)return i-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(n=e)===(r=t)?0:n>r?1:-1}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=u(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var s=u(n[o],r[o]);if(0!==s||0!==(s=u(e[n[o]],t[r[o]])))return s}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function a(e){switch(typeof e){case"undefined":return null;case"number":if(e===1/0||e===-1/0||isNaN(e))return null;break;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=Array(n);for(var r=0;r<n;r++)e[r]=a(t[r])}else if(e instanceof Date)return e.toJSON();else if(null!==e){for(var i in e={},t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i];void 0!==o&&(e[i]=a(o))}}}return e}function c(e){return l(e=a(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),i=e<0,o=i?"0":"2";o+=""+(function(e,t,n){for(var r="",i=3-e.length;r.length<i;)r+="0";return r}(t=((i?-r:r)- -324).toString(),0,0)+t);var s=Math.abs(parseFloat(n[0]));i&&(s=10-s);var u=s.toFixed(20);return o+""+(u=u.replace(/\.?0+$/,""))}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,o="";if(t)for(;++r<i;)o+=c(n[r]);else for(;++r<i;){var s=n[r];o+=c(s)+c(e[s])}return o}return""}(e)+"\0"}function l(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}n(9293);var f=n(5991),d=n.n(f);self.setImmediate||self.setTimeout;var p=Function.prototype.toString,h=p.call(Object);function y(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(n=0,t=[],r=e.length;n<r;n++)t[n]=y(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob)return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&p.call(n)==h}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var t,n,r,i=y(e[n]);void 0!==i&&(t[n]=i)}return t}try{localStorage.setItem("_pouch_check_localstorage",1),localStorage.getItem("_pouch_check_localstorage")}catch(e){}let v="function"==typeof queueMicrotask?queueMicrotask:function(e){Promise.resolve().then(e)};function g(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function m(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(g("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function b(e,t,n){return e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i=r._rev,o=n(r);return o?(o._id=t,o._rev=i,e.put(o).then(function(e){return{updated:!0,rev:e.rev}},function(t){if(409!==t.status)throw t;return b(e,o._id,n)})):{updated:!1,rev:i}})}class _ extends Error{constructor(e){super(),this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_)}catch(e){}}}class w extends Error{constructor(e){super(),this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,w)}catch(e){}}}class k extends Error{constructor(e){super(),this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,k)}catch(e){}}}function x(e,t){return t&&e.then(function(e){v(function(){t(null,e)})},function(e){v(function(){t(e)})}),e}function $(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function j(e){var t=new Set(e),n=Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function O(e){var t=Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}class A{constructor(){this.promise=Promise.resolve()}add(e){return this.promise=this.promise.catch(()=>{}).then(()=>e()),this.promise}finish(){return this.promise}}function q(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}async function M(e,t,n,r,i,o){let s;let u=q(n)+q(r)+"undefined";if(!i&&(s=e._cachedViews=e._cachedViews||{})[u])return s[u];let a=e.info().then(async function(a){let c;let l=a.db_name+"-mrview-"+(i?"temp":d().hash(u));await b(e,"_local/"+o,function(e){e.views=e.views||{};let n=t;-1===n.indexOf("/")&&(n=t+"/"+t);let r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e});let f=(await e.registerDependentDatabase(l)).db;f.auto_compaction=!0;let p={name:l,db:f,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};try{c=await p.db.get("_local/lastSeq")}catch(e){if(404!==e.status)throw e}return p.seq=c?c.seq:0,s&&p.db.once("destroyed",function(){delete s[u]}),p});return s&&(s[u]=a),a}let E={},C=new A;function S(e){return -1===e.indexOf("/")?[e,e]:e.split("/")}function D(e,t,n){try{e.emit("error",t)}catch(e){g("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),g("error",t,n)}}function I(e,t){for(var n=e,r=0,i=t.length;r<i&&(n=n[t[r]]);r++);return n}function B(e,t){return e<t?-1:e>t?1:0}function L(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];r>0&&"\\"===e[r-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}var N=["$or","$nor","$not"];function P(e){return N.indexOf(e)>-1}function R(e){return Object.keys(e)[0]}function F(e){var t={},n={$or:!0,$nor:!0};return e.forEach(function(e){Object.keys(e).forEach(function(r){var i=e[r];if("object"!=typeof i&&(i={$eq:i}),P(r)){if(i instanceof Array){if(n[r]){n[r]=!1,t[r]=i;return}var o=[];t[r].forEach(function(e){Object.keys(i).forEach(function(t){var n=i[t],r=Math.max(Object.keys(e).length,Object.keys(n).length),s=F([e,n]);Object.keys(s).length<=r||o.push(s)})}),t[r]=o}else t[r]=F([i])}else{var s=t[r]=t[r]||{};Object.keys(i).forEach(function(e){var t=i[e];return"$gt"===e||"$gte"===e?void(void 0===s.$eq&&(void 0!==s.$gte?"$gte"===e?t>s.$gte&&(s.$gte=t):t>=s.$gte&&(delete s.$gte,s.$gt=t):void 0!==s.$gt?"$gte"===e?t>s.$gt&&(delete s.$gt,s.$gte=t):t>s.$gt&&(s.$gt=t):s[e]=t)):"$lt"===e||"$lte"===e?void(void 0===s.$eq&&(void 0!==s.$lte?"$lte"===e?t<s.$lte&&(s.$lte=t):t<=s.$lte&&(delete s.$lte,s.$lt=t):void 0!==s.$lt?"$lte"===e?t<s.$lt&&(delete s.$lt,s.$lte=t):t<s.$lt&&(s.$lt=t):s[e]=t)):"$ne"===e?void("$ne"in s?s.$ne.push(t):s.$ne=[t]):"$eq"===e?void(delete s.$gt,delete s.$gte,delete s.$lt,delete s.$lte,delete s.$ne,s.$eq=t):"$regex"===e?void("$regex"in s?s.$regex.push(t):s.$regex=[t]):void(s[e]=t)})}})}),t}function T(e){var t=y(e);(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var i=t[r];"object"==typeof i&&(n=e(i,n))}return n})(t,!1)&&"$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=F(t[r].$and));var i=t[n];"object"==typeof i&&e(i)}return t}(t))&&(t=F(t.$and)),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],i=e[r];("object"!=typeof i||null===i)&&(e[r]={$eq:i})}})}),"$not"in t&&(t.$not=F([t.$not]));for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];("object"!=typeof o||null===o)&&(o={$eq:o}),t[i]=o}return function e(t){Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){t&&"object"==typeof t&&e(t)}):"$ne"===n?t.$ne=[r]:"$regex"===n?t.$regex=[r]:r&&"object"==typeof r&&e(r)})}(t),t}function V(e,t,n){if(e=e.filter(function(e){return U(e.doc,t.selector,n)}),t.sort){var r,i=function(e){function t(t){return e.map(function(e){return I(t,L(R(e)))})}return function(e,n){var r=u(t(e.doc),t(n.doc));return 0!==r?r:B(e.doc._id,n.doc._id)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[R(r)]&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function U(e,t,n){return n.every(function(n){var r=t[n],i=L(n),o=I(e,i);return P(n)?"$or"===n?r.some(function(t){return U(e,t,Object.keys(t))}):"$not"===n?!U(e,r,Object.keys(r)):!r.find(function(t){return U(e,t,Object.keys(t))}):Z(r,e,i,o)})}function Z(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(i){var o=e[i];if(0===i.indexOf("$"))return z(i,t,o,n,r);var s=L(i);if(void 0===r&&"object"!=typeof o&&s.length>0)return!1;var u=I(r,s);return"object"==typeof o?Z(o,t,n,u):z("$eq",t,o,s,u)}):e===r)}function z(e,t,n,r,i){if(!K[e])throw Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return K[e](t,n,r,i)}function J(e){return null!=e}function W(e){return void 0!==e}function Q(e,t){return t.some(function(t){return e instanceof Array?e.some(function(e){return 0===u(t,e)}):0===u(t,e)})}var K={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&("object"==typeof r[0]&&null!==r[0]?r.some(function(e){return U(e,t,Object.keys(t))}):r.some(function(r){return Z(t,e,n,r)}))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&("object"==typeof r[0]&&null!==r[0]?r.every(function(e){return U(e,t,Object.keys(t))}):r.every(function(r){return Z(t,e,n,r)}))},$eq:function(e,t,n,r){return W(r)&&0===u(r,t)},$gte:function(e,t,n,r){return W(r)&&u(r,t)>=0},$gt:function(e,t,n,r){return W(r)&&u(r,t)>0},$lte:function(e,t,n,r){return W(r)&&0>=u(r,t)},$lt:function(e,t,n,r){return W(r)&&0>u(r,t)},$exists:function(e,t,n,r){return t?W(r):!W(r)},$mod:function(e,t,n,r){return J(r)&&"number"==typeof r&&parseInt(r,10)===r&&r%t[0]===t[1]},$ne:function(e,t,n,r){return t.every(function(e){return 0!==u(r,e)})},$in:function(e,t,n,r){return J(r)&&Q(r,t)},$nin:function(e,t,n,r){return J(r)&&!Q(r,t)},$size:function(e,t,n,r){return J(r)&&Array.isArray(r)&&r.length===t},$all:function(e,t,n,r){return Array.isArray(r)&&t.every(function(e){return r.some(function(t){return 0===u(e,t)})})},$regex:function(e,t,n,r){return J(r)&&"string"==typeof r&&t.every(function(e){return new RegExp(e).test(r)})},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"===({}).toString.call(e)}}(r,t)}};function H(e,t){if("object"!=typeof t)throw Error("Selector error: expected a JSON object");var n=V([{doc:e}],{selector:t=T(t)},Object.keys(t));return n&&1===n.length}let X=(...e)=>{let t=[];for(let n of e)Array.isArray(n)?t=t.concat(X(...n)):t.push(n);return t},Y="function"==typeof Array.prototype.flat?(...e)=>e.flat(1/0):X;function G(e){let t={};for(let n of e)Object.assign(t,n);return t}function ee(e,t){for(let n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function et(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function en(e){return function(...t){let n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);{let r=n.bind(null,null),i=n.bind(null);e.apply(this,t.slice(0,-1)).then(r,i)}}}function er(e){for(let t of((e=y(e)).index||(e.index={}),["type","name","ddoc"]))e.index[t]&&(e[t]=e.index[t],delete e.index[t]);return e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function ei(e){return"object"==typeof e&&null!==e}let eo=["$all","$allMatch","$and","$elemMatch","$exists","$in","$mod","$nin","$nor","$not","$or","$regex","$size","$type"],es=["$in","$nin","$mod","$all"],eu=["$eq","$gt","$gte","$lt","$lte"];function ea(e,t){if(Array.isArray(e))for(let n of e)ei(n)&&ea(n,t);else for(let[n,r]of Object.entries(e))-1!==eo.indexOf(n)&&function(e,t,n){let r="",i=t,o=!0;if(-1===["$in","$nin","$or","$and","$mod","$nor","$all"].indexOf(e)||Array.isArray(t)||(r="Query operator "+e+" must be an array."),-1===["$not","$elemMatch","$allMatch"].indexOf(e)||!Array.isArray(t)&&ei(t)||(r="Query operator "+e+" must be an object."),"$mod"===e&&Array.isArray(t)){if(2!==t.length)r="Query operator $mod must be in the format [divisor, remainder], where divisor and remainder are both integers.";else{let e=t[0],n=t[1];0===e&&(r="Query operator $mod's divisor cannot be 0, cannot divide by zero.",o=!1),("number"!=typeof e||parseInt(e,10)!==e)&&(r="Query operator $mod's divisor is not an integer.",i=e),parseInt(n,10)!==n&&(r="Query operator $mod's remainder is not an integer.",i=n)}}if("$exists"===e&&"boolean"!=typeof t&&(r="Query operator $exists must be a boolean."),"$type"===e){let e=["null","boolean","number","string","array","object"],n='"'+e.slice(0,e.length-1).join('", "')+'", or "'+e[e.length-1]+'"';"string"!=typeof t?r="Query operator $type must be a string. Supported values: "+n+".":-1==e.indexOf(t)&&(r="Query operator $type must be a string. Supported values: "+n+".")}if("$size"===e&&parseInt(t,10)!==t&&(r="Query operator $size must be a integer."),"$regex"!==e||"string"==typeof t||(n?r="Query operator $regex must be a string.":t instanceof RegExp||(r="Query operator $regex must be a string or an instance of a javascript regular expression.")),r)throw o&&(r+=" Received"+(null===i?" ":Array.isArray(i)?" array":" "+typeof i)+": "+(ei(i)?JSON.stringify(i,null,"	"):i)),Error(r)}(n,r,t),-1===eu.indexOf(n)&&-1===es.indexOf(n)&&ei(r)&&ea(r,t)}async function ec(e,t,n){n.body&&(n.body=JSON.stringify(n.body),n.headers=new s({"Content-type":"application/json"}));let i=await e.fetch(t,n),u=await i.json();if(!i.ok)throw u.status=i.status,o(function(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),r=0,i=n.length;r<i;r++)"function"!=typeof e[n[r]]&&(this[n[r]]=e[n[r]]);void 0===this.stack&&(this.stack=Error().stack),void 0!==t&&(this.reason=t)}return n.prototype=r.prototype,new n(void 0)}(u));return u}async function el(e,t){return await ec(e,"_index",{method:"POST",body:er(t)})}async function ef(e,t){return ea(t.selector,!0),await ec(e,"_find",{method:"POST",body:t})}async function ed(e,t){return await ec(e,"_explain",{method:"POST",body:t})}async function ep(e){return await ec(e,"_index",{method:"GET"})}async function eh(e,t){let n=t.ddoc,r=t.type||"json",i=t.name;if(!n)throw Error("you must provide an index's ddoc");if(!i)throw Error("you must provide an index's name");let o="_index/"+[n,r,i].map(encodeURIComponent).join("/");return await ec(e,o,{method:"DELETE"})}function ey(e,t){for(let n of t)if(void 0===(e=e[n]))return;return e}let ev=function(e,t,n,r){var i;function l(e,t){let n=u(e.key,t.key);return 0!==n?n:u(e.value,t.value)}function f(e,t,n){return(n=n||0,"number"==typeof t)?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){let t=e.value;return t&&"object"==typeof t&&t._id||e.id}function p(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){for(let r of e.rows){let e=r.doc&&r.doc._attachments;if(e)for(let r of Object.keys(e)){var t,n;let i=e[r];e[r].data=(t=i.data,n=i.content_type,function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(t))],{type:n}))}}}(t),t}}function h(e,t,n,r){let i=t[e];void 0!==i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function y(e){if(void 0!==e){let t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function g(e,t){let n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&u(e[n],e[r])>0)throw new _("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new _("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new _("Multi-key fetches for reduce views must use {group: true}")}for(let t of["group_level","limit","skip"]){let n=function(e){if(e){if("number"!=typeof e)return new _(`Invalid value for integer: "${e}"`);if(e<0)return new _(`Invalid value for positive integer: "${e}"`)}}(e[t]);if(n)throw n}}async function b(e,t,n){let r,i,u=[],a="GET";if(h("reduce",n,u),h("include_docs",n,u),h("attachments",n,u),h("limit",n,u),h("descending",n,u),h("group",n,u),h("group_level",n,u),h("skip",n,u),h("stale",n,u),h("conflicts",n,u),h("startkey",n,u,!0),h("start_key",n,u,!0),h("endkey",n,u,!0),h("end_key",n,u,!0),h("inclusive_end",n,u),h("key",n,u,!0),h("update_seq",n,u),u=""===(u=u.join("&"))?"":"?"+u,void 0!==n.keys){let e=`keys=${encodeURIComponent(JSON.stringify(n.keys))}`;e.length+u.length+1<=2e3?u+=("?"===u[0]?"&":"?")+e:(a="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){let c=S(t),l=await e.fetch("_design/"+c[0]+"/_view/"+c[1]+u,{headers:new s({"Content-Type":"application/json"}),method:a,body:JSON.stringify(r)});i=l.ok;let f=await l.json();if(!i)throw f.status=l.status,o(f);for(let e of f.rows)if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw Error(e.reason);return new Promise(function(e){e(f)}).then(p(n))}for(let e of(r=r||{},Object.keys(t)))Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString();let c=await e.fetch("_temp_view"+u,{headers:new s({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)});i=c.ok;let l=await c.json();if(!i)throw l.status=c.status,o(l);return new Promise(function(e){e(l)}).then(p(n))}function q(e){return function(t){if(404===t.status)return e;throw t}}async function I(e,t,n){let r="_local/doc_"+e,i={_id:r,keys:[]},o=n.get(e),s=o[0],u=o[1],a=await (1===u.length&&/^1-/.test(u[0].rev)?Promise.resolve(i):t.db.get(r).catch(q(i))),c=await (a.keys.length?t.db.allDocs({keys:a.keys,include_docs:!0}):Promise.resolve({rows:[]}));return function(e,t){let n=[],r=new Set;for(let e of t.rows){let t=e.doc;if(t&&(n.push(t),r.add(t._id),t._deleted=!s.has(t._id),!t._deleted)){let e=s.get(t._id);"value"in e&&(t.value=e.value)}}let i=O(s);for(let e of i)if(!r.has(e)){let t={_id:e},r=s.get(e);"value"in r&&(t.value=r.value),n.push(t)}return e.keys=j(i.concat(e.keys)),n.push(e),n}(a,c)}function B(e){let t="string"==typeof e?e:e.name,n=E[t];return n||(n=E[t]=new A),n}async function L(e,t){return $(B(e),function(){return N(e,t)})()}async function N(e,n){let r,i,o;let s=t(e.mapFun,function(e,t){let n={id:i._id,key:a(e)};null!=t&&(n.value=a(t)),r.push(n)}),f=e.seq||0,d=0,p={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",p);let h=new A;async function y(){return function(t,a){var p;let v=t.results;if(!v.length&&!a.length)return;for(let e of a)if(0>v.findIndex(function(t){return t.id===e.docId})){let t={_id:e.docId,doc:{_id:e.docId,_deleted:1},changes:[]};e.doc&&(t.doc=e.doc,t.changes.push({rev:e.doc._rev})),v.push(t)}let g=function(t){let n=new Map;for(let o of t){if("_"!==o.doc._id[0]){r=[],(i=o.doc)._deleted||function(e,t,n){try{t(n)}catch(r){D(e,r,{fun:t,doc:n})}}(e.sourceDB,s,i),r.sort(l);let t=function(e){let t;let n=new Map;for(let r=0,i=e.length;r<i;r++){let i=e[r],o=[i.key,i.id];r>0&&0===u(i.key,t)&&o.push(r),n.set(c(o),i),t=i.key}return n}(r);n.set(o.doc._id,[t,o.changes])}f=o.seq}return n}(v);h.add((p=f,function(){var t;return t="_local/lastSeq",e.db.get(t).catch(q({_id:t,seq:0})).then(function(t){return Promise.all(O(g).map(function(t){return I(t,e,g)})).then(function(n){var r=n.flat();return t.seq=p,r.push(t),e.db.bulkDocs({docs:r})}).then(()=>e.sourceDB.get("_local/purges").then(function(t){let n=t.purgeSeq;return e.db.get("_local/purgeSeq").then(function(e){return e._rev}).catch(q(void 0)).then(function(t){return e.db.put({_id:"_local/purgeSeq",_rev:t,purgeSeq:n})})}).catch(function(e){if(404!==e.status)throw e}))})})),d+=v.length;let m={view:e.name,last_seq:t.last_seq,results_count:v.length,indexed_docs:d};if(e.sourceDB.emit("indexing",m),e.sourceDB.activeTasks.update(o,{completed_items:d}),!(v.length<n.changes_batch_size))return y()}(await e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:f,limit:n.changes_batch_size}),await e.db.get("_local/purgeSeq").then(function(e){return e.purgeSeq}).catch(q(-1)).then(function(t){return e.sourceDB.get("_local/purges").then(function(n){let r=n.purges.filter(function(e,n){return n>t}).map(e=>e.docId);return Promise.all(r.filter(function(e,t){return r.indexOf(e)===t}).map(function(t){return e.sourceDB.get(t).then(function(e){return{docId:t,doc:e}}).catch(q({docId:t}))}))}).catch(q([]))}))}try{await e.sourceDB.info().then(function(t){o=e.sourceDB.activeTasks.add({name:"view_indexing",total_items:t.update_seq-f})}),await y(),await h.finish(),e.seq=f,e.sourceDB.activeTasks.remove(o)}catch(t){e.sourceDB.activeTasks.remove(o,t)}}function P(e,t){return $(B(e),function(){return R(e,t)})()}async function R(e,t){let r;let i=e.reduceFun&&!1!==t.reduce,o=t.skip||0;async function s(t){t.include_docs=!0;let n=await e.db.allDocs(t);return r=n.total_rows,n.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){let t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}let t=function(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"===i){if(1===t.length)return t.pop();!function(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(n):o===e.length-2?i[e.pop()]=n:e.push(n)}}(t,n);continue}switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var o=function(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var i="0"===e[t];t++;var o="",s=parseInt(e.substring(t,t+3),10)+-324;for(i&&(s=-s),t+=3;;){var u=e[t];if("\0"===u)break;o+=u,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(n-=10),0!==s&&(n=parseFloat(n+"e"+s))}return{num:n,length:t-r}}(e,r);t.push(o.num),r+=o.length;break;case"4":for(var s="";;){var u=e[r];if("\0"===u)break;s+=u,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(s);break;case"5":var a={element:[],index:t.length};t.push(a.element),n.push(a);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}(e.doc._id);return{key:t[0],id:t[1],value:"value"in e.doc?e.doc.value:null}})}async function a(s){let a;if(a=i?function(e,t,r){0===r.group_level&&delete r.group_level;let i=r.group||r.group_level,o=n(e.reduceFun),s=[],a=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;for(let e of t){let t=s[s.length-1],n=i?e.key:null;if(i&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===u(t.groupKey,n)){t.keys.push([e.key,e.id]),t.values.push(e.value);continue}s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}for(let n of(t=[],s)){let r=function(e,t,n,r,i){try{return{output:t(n,r,i)}}catch(o){return D(e,o,{fun:t,keys:n,values:r,rereduce:i}),{error:o}}}(e.sourceDB,o,n.keys,n.values,!1);if(r.error&&r.error instanceof k)throw r.error;t.push({value:r.error?null:r.output,key:n.groupKey})}return{rows:f(t,r.limit,r.skip)}}(e,s,t):void 0===t.keys?{total_rows:r,offset:o,rows:s}:{total_rows:r,offset:o,rows:f(s,t.limit,t.skip)},t.update_seq&&(a.update_seq=e.seq),t.include_docs){let n=j(s.map(d)),r=await e.sourceDB.allDocs({keys:n,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}),i=new Map;for(let e of r.rows)i.set(e.id,e.doc);for(let e of s){let t=d(e),n=i.get(t);n&&(e.doc=n)}}return a}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){let e=t.keys.map(function(e){let n={startkey:c([e]),endkey:c([e,{}])};return t.update_seq&&(n.update_seq=!0),s(n)});return a((await Promise.all(e)).flat())}{let e,n;let r={descending:t.descending};if(t.update_seq&&(r.update_seq=!0),"start_key"in t&&(e=t.start_key),"startkey"in t&&(e=t.startkey),"end_key"in t&&(n=t.end_key),"endkey"in t&&(n=t.endkey),void 0!==e&&(r.startkey=t.descending?c([e,{}]):c([e])),void 0!==n){let e=!1!==t.inclusive_end;t.descending&&(e=!e),r.endkey=c(e?[n,{}]:[n])}if(void 0!==t.key){let e=c([t.key]),n=c([t.key,{}]);r.descending?(r.endkey=e,r.startkey=n):(r.startkey=e,r.endkey=n)}return i||("number"==typeof t.limit&&(r.limit=t.limit),r.skip=o),a(await s(r))}}async function F(e){return(await e.fetch("_view_cleanup",{headers:new s({"Content-Type":"application/json"}),method:"POST"})).json()}async function T(t){try{let n=await t.get("_local/"+e),r=new Map;for(let e of Object.keys(n.views)){let t=S(e),n="_design/"+t[0],i=t[1],o=r.get(n);o||(o=new Set,r.set(n,o)),o.add(i)}let i={keys:O(r),include_docs:!0},o=await t.allDocs(i),s={};for(let e of o.rows){let t=e.key.substring(8);for(let i of r.get(e.key)){let r=t+"/"+i;n.views[r]||(r=i);let o=Object.keys(n.views[r]),u=e.doc&&e.doc.views&&e.doc.views[i];for(let e of o)s[e]=s[e]||u}}let u=Object.keys(s).filter(function(e){return!s[e]}).map(function(e){return $(B(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Promise.all(u).then(function(){return{ok:!0}})}catch(e){if(404===e.status)return{ok:!0};throw e}}async function V(t,n,i){if("function"==typeof t._query){var o;return o=n,new Promise(function(e,n){t._query(o,i,function(t,r){if(t)return n(t);e(r)})})}if(m(t))return b(t,n,i);let s={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return g(i,n),C.add(async function(){var r,o;let u=await M(t,"temp_view/temp_view",n.map,n.reduce,!0,e);return r=L(u,s).then(function(){return P(u,i)}),o=function(){return u.db.destroy()},r.then(function(e){return o().then(function(){return e})},function(e){return o().then(function(){throw e})})}),C.finish();{let o=n,u=S(o),a=u[0],c=u[1],l=await t.get("_design/"+a);if(!(n=l.views&&l.views[c]))throw new w(`ddoc ${l._id} has no view named ${c}`);r(l,c),g(i,n);let f=await M(t,o,n.map,n.reduce,!1,e);return"ok"===i.stale||"update_after"===i.stale?"update_after"===i.stale&&v(function(){L(f,s)}):await L(f,s),P(f,i)}}return{query:function(e,t,n){var r;let i=this;"function"==typeof t&&(n=t,t={}),t=t?((r=t).group_level=y(r.group_level),r.limit=y(r.limit),r.skip=y(r.skip),r):{},"function"==typeof e&&(e={map:e});let o=Promise.resolve().then(function(){return V(i,e,t)});return x(o,n),o},viewCleanup:(i=function(){if("function"==typeof this._viewCleanup){var e;return e=this,new Promise(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}return m(this)?F(this):T(this)},function(...e){var t=e.pop(),n=i.apply(this,e);return"function"==typeof t&&x(n,t),n})}}("indexes",function(e,t){return function(e,t,n){var r;let i=e.every(e=>-1===e.indexOf(".")),o=1===e.length;return i?o?(r=e[0],function(e){(!n||H(e,n))&&t(e[r])}):function(r){(!n||H(r,n))&&t(e.map(e=>r[e]))}:o?function(e,t,n){let r=L(e);return function(e){if(n&&!H(e,n))return;let i=ey(e,r);void 0!==i&&t(i)}}(e[0],t,n):function(r){if(n&&!H(r,n))return;let i=[];for(let t of e){let e=ey(r,L(t));if(void 0===e)return;i.push(e)}t(i)}}(Object.keys(e.fields),t,e.partial_filter_selector)},function(){throw Error("reduce not supported")},function(e,t){let n=e.views[t];if(!n.map||!n.map.fields)throw Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function eg(e){return e._customFindAbstractMapper?{query:function(t,n){let r=ev.query.bind(this);return e._customFindAbstractMapper.query.call(this,t,n,r)},viewCleanup:function(){let t=ev.viewCleanup.bind(this);return e._customFindAbstractMapper.viewCleanup.call(this,t)}}:ev}let em=/^_design\//;function eb(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){let t={};return t[e]="asc",t}return e}),e.partial_filter_selector&&(e.partial_filter_selector=T(e.partial_filter_selector)),e}async function e_(e,t){let n;let r=y((t=er(t)).index);function i(){var e;return n||(e=JSON.stringify(t),n=d().hash(e))}t.index=eb(t.index),function(e){let t=e.fields.filter(function(e){return"asc"===e[R(e)]});if(0!==t.length&&t.length!==e.fields.length)throw Error("unsupported mixed sorting")}(t.index);let o=t.name||"idx-"+i(),s=t.ddoc||"idx-"+i(),u="_design/"+s,a=!1,c=!1;if(e.constructor.emit("debug",["find","creating index",u]),await b(e,u,function(e){return e._rev&&"query"!==e.language&&(a=!0),e.language="query",e.views=e.views||{},!(c=!!e.views[o])&&(e.views[o]={map:{fields:G(t.index.fields),partial_filter_selector:t.index.partial_filter_selector},reduce:"_count",options:{def:r}},e)}),a)throw Error('invalid language for ddoc with id "'+u+'" (should be "query")');return await eg(e).query.call(e,s+"/"+o,{limit:0,reduce:!1}),{id:u,name:o,result:c?"exists":"created"}}async function ew(e){let t=await e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}),n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=Y(n.indexes,t.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){let n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:eb(n.options.def)}})})),n.indexes.sort(function(e,t){return B(e.name,t.name)}),n.total_rows=n.indexes.length,n}let ek={"￿":{}},ex={queryOpts:{limit:0,startkey:ek,endkey:null},inMemoryFields:[]};function e$(e,t){let n=t.def.fields.map(R);return e.slice().sort(function(e,t){let r=n.indexOf(e),i=n.indexOf(t);return -1===r&&(r=Number.MAX_VALUE),-1===i&&(i=Number.MAX_VALUE),B(r,i)})}let ej=["$eq","$gt","$gte","$lt","$lte"];function eO(e){return -1===ej.indexOf(e)}async function eA(e,t){let n=y(t);n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count);let r=await e.allDocs(n);return r.rows=r.rows.filter(function(e){return!/^_design\//.test(e.id)}),n.original_limit&&(n.limit=n.original_limit),r.rows=r.rows.slice(0,n.limit),r}async function eq(e,t,n){return"_all_docs"===n.name?eA(e,t):eg(e).query.call(e,n.ddoc.substring(8)+"/"+n.name,t)}async function eM(e,t,n){var r,i;if(t.selector&&(ea(t.selector,!1),t.selector=T(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw Error("invalid sort json - should be an array");return e.map(function(e){if("string"!=typeof e)return e;{let t={};return t[e]="asc",t}})}(t.sort)),t.use_index){let e;t.use_index=(r=t.use_index,e=[],"string"==typeof r?e.push(r):e=r,e.map(function(e){return e.replace(em,"")}))}"limit"in t||(t.limit=25),function(e){if("object"!=typeof e.selector)throw Error("you must provide a selector when you find()")}(t);let o=await ew(e);e.constructor.emit("debug",["find","planning query",t]);let s=function(e,t){let n=e.selector,r=e.sort;if(Object.keys(n).map(function(e){return n[e]}).some(function(e){return"object"==typeof e&&0===Object.keys(e).length}))return Object.assign({},ex,{index:t[0]});let i=function(e,t){let n;let r=Object.keys(e),i=t?t.map(R):[];return(n=r.length>=i.length?r:i,0===i.length)?{fields:n}:{fields:n=n.sort(function(e,t){let n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);let r=i.indexOf(t);return -1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),sortOrder:t.map(R)}}(n,r),o=i.fields,s=function(e,t,n,r,i){let o=r.filter(function(r){return function(e,t,n,r){let i=e.def.fields.map(R);return!!function(e,t,n){if(t){let r=!(t.length>e.length)&&ee(t,e),i=ee(n,e);return r&&i}return function(e,t){for(let n of(e=e.slice(),t)){if(!e.length)break;let t=e.indexOf(n);if(-1===t)return!1;e.splice(t,1)}return!0}(n,e)}(i,t,n)&&function(e,t){let n=t[e[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===R(n))}(i,r)}(r,n,t,e)});if(0===o.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};let e=r[0];return e.defaultUsed=!0,e}if(1===o.length&&!i)return o[0];let s=function(e){let t={};for(let n of e)t[n]=!0;return t}(t);if(i){let e="_design/"+i[0],t=2===i.length&&i[1],n=o.find(function(n){return!!t&&n.ddoc===e&&t===n.name||n.ddoc===e});if(!n)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return n}return function(e,t){let n=null,r=-1;for(let i of e){let e=t(i);e>r&&(r=e,n=i)}return n}(o,function(e){let t=e.def.fields.map(R),n=0;for(let e of t)s[e]&&n++;return n})}(n,o,i.sortOrder,t,e.use_index),u=s.defaultUsed?{queryOpts:{startkey:null},inMemoryFields:[Object.keys(n)]}:1===s.def.fields.length?function(e,t){let n;let r=R(t.def.fields[0]),i=e[r]||{},o=[];for(let e of Object.keys(i)){eO(e)&&o.push(r);let t=i[e],s=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(e,t);n=n?G([n,s]):s}return{queryOpts:n,inMemoryFields:o}}(n,s):function(e,t){let n,r;let i=t.def.fields.map(R),o=[],s=[],u=[];function a(e){!1!==n&&s.push(null),!1!==r&&u.push(ek),o=i.slice(e)}for(let t=0,o=i.length;t<o;t++){let o=e[i[t]];if(o&&Object.keys(o).length){if(Object.keys(o).some(eO)){a(t);break}if(t>0){let n="$gt"in o||"$gte"in o||"$lt"in o||"$lte"in o,r=Object.keys(e[i[t-1]]),s=et(r,["$eq"]),u=et(r,Object.keys(o));if(n&&!s&&!u){a(t);break}}}else{a(t);break}let c=Object.keys(o),l=null;for(let e of c){let t=o[e],n=function(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}(e,t);l=l?G([l,n]):n}s.push("startkey"in l?l.startkey:null),u.push("endkey"in l?l.endkey:ek),"inclusive_start"in l&&(n=l.inclusive_start),"inclusive_end"in l&&(r=l.inclusive_end)}let c={startkey:s,endkey:u};return void 0!==n&&(c.inclusive_start=n),void 0!==r&&(c.inclusive_end=r),{queryOpts:c,inMemoryFields:o}}(n,s),a=u.queryOpts,c=function(e,t,n,r){let i=Y(e,function(e,t,n){n=e$(n,e);let r=!1;for(let i=0,o=n.length;i<o;i++){let s=n[i];if(r||!function(e,t){return e.def.fields.some(e=>R(e)===t)}(e,s))return n.slice(i);i<o-1&&"$eq"!==R(t[s])&&(r=!0)}return[]}(t,n,r),function(e){let t=[];for(let[n,r]of Object.entries(e))for(let e of Object.keys(r))"$ne"===e&&t.push(n);return t}(n));return e$(Array.from(new Set(i)),t)}(u.inMemoryFields,s,n,o);return{queryOpts:a,index:s,inMemoryFields:c}}(t,o.indexes);e.constructor.emit("debug",["find","query plan",s]);let a=s.index;!function(e,t){if(t.defaultUsed&&e.sort){let t=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(t.length>0)throw Error('Cannot sort on field(s) "'+t.join(",")+'" when using the default index')}t.defaultUsed}(t,a);let c=Object.assign({include_docs:!0,reduce:!1,indexes_count:o.total_rows},s.queryOpts);if("startkey"in c&&"endkey"in c&&u(c.startkey,c.endkey)>0)return{docs:[]};if(t.sort&&"string"!=typeof t.sort[0]&&"desc"===(i=t.sort[0])[R(i)]&&(c.descending=!0,c=function(e){let t=y(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(c)),!s.inMemoryFields.length&&(c.limit=t.limit,"skip"in t&&(c.skip=t.skip)),n)return Promise.resolve(s,c);let l=await eq(e,c,a);!1===c.inclusive_start&&(l.rows=function(e,t,n){let r=n.def.fields,i=0;for(let o of e){let e=function(e,t){return t.def.fields.map(t=>I(e,L(R(t))))}(o.doc,n);if(1===r.length)e=e[0];else for(;e.length>t.length;)e.pop();if(Math.abs(u(e,t))>0)break;++i}return i>0?e.slice(i):e}(l.rows,c.startkey,a)),s.inMemoryFields.length&&(l.rows=V(l.rows,t,s.inMemoryFields));let f={docs:l.rows.map(function(e){let n=e.doc;return t.fields?function(e,t){let n={};for(let r of t){let t=L(r),i=I(e,t);void 0!==i&&function(e,t,n){for(var r=0,i=t.length;r<i-1;r++){var o=t[r];e=e[o]=e[o]||{}}e[t[i-1]]=n}(n,t,i)}return n}(n,t.fields):n})};return a.defaultUsed&&(f.warning="No matching index found, create an index to optimize query time."),f}async function eE(e,t){let n=await eM(e,t,!0);return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}}async function eC(e,t){if(!t.ddoc)throw Error("you must supply an index.ddoc when deleting");if(!t.name)throw Error("you must supply an index.name when deleting");let n=t.ddoc,r=t.name;return await b(e,n,function(e){return 1===Object.keys(e.views).length&&e.views[r]?{_id:n,_deleted:!0}:(delete e.views[r],e)}),await eg(e).viewCleanup.apply(e),{ok:!0}}let eS={};eS.createIndex=en(async function(e){if("object"!=typeof e)throw Error("you must provide an index to create");return(m(this)?el:e_)(this,e)}),eS.find=en(async function(e){if("object"!=typeof e)throw Error("you must provide search parameters to find()");return(m(this)?ef:eM)(this,e)}),eS.explain=en(async function(e){if("object"!=typeof e)throw Error("you must provide search parameters to explain()");return(m(this)?ed:eE)(this,e)}),eS.getIndexes=en(async function(){return(m(this)?ep:ew)(this)}),eS.deleteIndex=en(async function(e){if("object"!=typeof e)throw Error("you must provide an index to delete");return(m(this)?eh:eC)(this,e)});var eD=eS},5991:function(e){var t;t=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n+=(r&i|~r&o)+t[0]-680876936|0,o+=((n=(n<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0,i+=((o=(o<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0,r+=((i=(i<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0,n+=((r=(r<<22|r>>>10)+i|0)&i|~r&o)+t[4]-176418897|0,o+=((n=(n<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0,i+=((o=(o<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0,r+=((i=(i<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0,n+=((r=(r<<22|r>>>10)+i|0)&i|~r&o)+t[8]+1770035416|0,o+=((n=(n<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0,i+=((o=(o<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0,r+=((i=(i<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0,n+=((r=(r<<22|r>>>10)+i|0)&i|~r&o)+t[12]+1804603682|0,o+=((n=(n<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0,i+=((o=(o<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0,r+=((i=(i<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0,n+=((r=(r<<22|r>>>10)+i|0)&o|i&~o)+t[1]-165796510|0,o+=((n=(n<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0,i+=((o=(o<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0,r+=((i=(i<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0,n+=((r=(r<<20|r>>>12)+i|0)&o|i&~o)+t[5]-701558691|0,o+=((n=(n<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0,i+=((o=(o<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0,r+=((i=(i<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0,n+=((r=(r<<20|r>>>12)+i|0)&o|i&~o)+t[9]+568446438|0,o+=((n=(n<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0,i+=((o=(o<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0,r+=((i=(i<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0,n+=((r=(r<<20|r>>>12)+i|0)&o|i&~o)+t[13]-1444681467|0,o+=((n=(n<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0,i+=((o=(o<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0,r+=((i=(i<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0,n+=((r=(r<<20|r>>>12)+i|0)^i^o)+t[5]-378558|0,o+=((n=(n<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0,i+=((o=(o<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0,r+=((i=(i<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0,n+=((r=(r<<23|r>>>9)+i|0)^i^o)+t[1]-1530992060|0,o+=((n=(n<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0,i+=((o=(o<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0,r+=((i=(i<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0,n+=((r=(r<<23|r>>>9)+i|0)^i^o)+t[13]+681279174|0,o+=((n=(n<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0,i+=((o=(o<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0,r+=((i=(i<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0,n+=((r=(r<<23|r>>>9)+i|0)^i^o)+t[9]-640364487|0,o+=((n=(n<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0,i+=((o=(o<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0,r+=((i=(i<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+i|0,n+=(i^(r|~o))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[14]-1416354905|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[10]-1051523|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[15]-30611744|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[6]-1560198380|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[2]+718787259|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,s,u,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return u=parseInt((s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/))[2],16),a=parseInt(s[1],16)||0,o[14]=u,o[15]=a,n(l,o),l}function s(e){var n;for(n=0;n<e.length;n+=1)e[n]=function(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}(e[n]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function a(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,o,s,u,a=this.byteLength,c=t(n,a),l=a;return(e!==r&&(l=t(r,a)),c>l)?new ArrayBuffer(0):(s=new Uint8Array(o=new ArrayBuffer(i=l-c)),u=new Uint8Array(this,c,i),s.set(u),o)}}(),c.prototype.append=function(e){return this.appendBinary(u(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},c.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=a(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,t){var r,i,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=parseInt((r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/))[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},c.hash=function(e,t){return c.hashBinary(u(e),t)},c.hashBinary=function(e,t){var n=s(o(e));return t?a(n):n},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(e){var t,r,o,s=((r=new Uint8Array((t=this._buff.buffer).byteLength+e.byteLength)).set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),r),u=s.length;for(this._length+=e.byteLength,o=64;o<=u;o+=64)n(this._hash,i(s.subarray(o-64,o)));return this._buff=new Uint8Array(o-64<u?s.buffer.slice(o-64):0),this},c.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=a(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var e,t=c.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,o,s,u,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return u=parseInt((s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/))[2],16),a=parseInt(s[1],16)||0,o[14]=u,o[15]=a,n(l,o),l}(new Uint8Array(e)));return t?a(r):r},c},e.exports=t()},6529:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});for(var r,i=new Uint8Array(16),o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!("string"==typeof n&&o.test(n)))throw TypeError("Stringified UUID is invalid");return n},c=function(e,t,n){var o=(e=e||{}).random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return a(o)}},5218:function(e,t){"use strict";function n(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(e):o===t.length-2?i[t.pop()]=e:t.push(e)}t.stringify=function(e){var t,n,r,i,o,s,u,a,c,l,f,d=[];d.push({obj:e});for(var p="";t=d.pop();)if(n=t.obj,r=t.prefix||"",i=t.val||"",p+=r,i)p+=i;else if("object"!=typeof n)p+=void 0===n?null:JSON.stringify(n);else if(null===n)p+="null";else if(Array.isArray(n)){for(d.push({val:"]"}),o=n.length-1;o>=0;o--)s=0===o?"":",",d.push({obj:n[o],prefix:s});d.push({val:"["})}else{for(a in u=[],n)n.hasOwnProperty(a)&&u.push(a);for(d.push({val:"}"}),o=u.length-1;o>=0;o--)l=n[c=u[o]],f=(o>0?",":"")+JSON.stringify(c)+":",d.push({obj:l,prefix:f});d.push({val:"{"})}return p},t.parse=function(e){for(var t,r,i,o,s,u,a,c,l,f=[],d=[],p=0;;){if("}"===(t=e[p++])||"]"===t||void 0===t){if(1===f.length)return f.pop();n(f.pop(),f,d);continue}switch(t){case" ":case"	":case"\n":case":":case",":break;case"n":p+=3,n(null,f,d);break;case"t":p+=3,n(!0,f,d);break;case"f":p+=4,n(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",p--;;)if(i=e[p++],/[\d\.\-e\+]/.test(i))r+=i;else{p--;break}n(parseFloat(r),f,d);break;case'"':for(o="",s=void 0,u=0;;)if('"'!==(a=e[p++])||"\\"===s&&u%2==1)o+=a,"\\"===(s=a)?u++:u=0;else break;n(JSON.parse('"'+o+'"'),f,d);break;case"[":c={element:[],index:f.length},f.push(c.element),d.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw Error("unexpectedly reached end of input: "+t)}}}},9095:function(e,t,n){"use strict";n.d(t,{Dx:function(){return en},VY:function(){return et},aV:function(){return ee},dk:function(){return er},fC:function(){return X},h_:function(){return G},x8:function(){return ei},xz:function(){return Y}});var r=n(9300),i=n(5994),o=n(8051),s=n(8788),u=n(455),a=n(838),c=n(3550),l=n(2184),f=n(4569),d=n(271),p=n(7234),h=n(1386),y=n(1148),v=n(2930),g=n(223),m=n(5444),b="Dialog",[_,w]=(0,s.b)(b),[k,x]=_(b),$=e=>{let{__scopeDialog:t,children:n,open:i,defaultOpen:o,onOpenChange:s,modal:c=!0}=e,l=r.useRef(null),f=r.useRef(null),[d=!1,p]=(0,a.T)({prop:i,defaultProp:o,onChange:s});return(0,m.jsx)(k,{scope:t,triggerRef:l,contentRef:f,contentId:(0,u.M)(),titleId:(0,u.M)(),descriptionId:(0,u.M)(),open:d,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),modal:c,children:n})};$.displayName=b;var j="DialogTrigger",O=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=x(j,n),u=(0,o.e)(t,s.triggerRef);return(0,m.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":z(s.open),...r,ref:u,onClick:(0,i.M)(e.onClick,s.onOpenToggle)})});O.displayName=j;var A="DialogPortal",[q,M]=_(A,{forceMount:void 0}),E=e=>{let{__scopeDialog:t,forceMount:n,children:i,container:o}=e,s=x(A,t);return(0,m.jsx)(q,{scope:t,forceMount:n,children:r.Children.map(i,e=>(0,m.jsx)(d.z,{present:n||s.open,children:(0,m.jsx)(f.h,{asChild:!0,container:o,children:e})}))})};E.displayName=A;var C="DialogOverlay",S=r.forwardRef((e,t)=>{let n=M(C,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=x(C,e.__scopeDialog);return o.modal?(0,m.jsx)(d.z,{present:r||o.open,children:(0,m.jsx)(D,{...i,ref:t})}):null});S.displayName=C;var D=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=x(C,n);return(0,m.jsx)(y.Z,{as:g.g7,allowPinchZoom:!0,shards:[i.contentRef],children:(0,m.jsx)(p.WV.div,{"data-state":z(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),I="DialogContent",B=r.forwardRef((e,t)=>{let n=M(I,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=x(I,e.__scopeDialog);return(0,m.jsx)(d.z,{present:r||o.open,children:o.modal?(0,m.jsx)(L,{...i,ref:t}):(0,m.jsx)(N,{...i,ref:t})})});B.displayName=I;var L=r.forwardRef((e,t)=>{let n=x(I,e.__scopeDialog),s=r.useRef(null),u=(0,o.e)(t,n.contentRef,s);return r.useEffect(()=>{let e=s.current;if(e)return(0,v.Ry)(e)},[]),(0,m.jsx)(P,{...e,ref:u,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:(0,i.M)(e.onFocusOutside,e=>e.preventDefault())})}),N=r.forwardRef((e,t)=>{let n=x(I,e.__scopeDialog),i=r.useRef(!1),o=r.useRef(!1);return(0,m.jsx)(P,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||n.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let r=t.target;n.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),P=r.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:u,...a}=e,f=x(I,n),d=r.useRef(null),p=(0,o.e)(t,d);return(0,h.EW)(),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.M,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:u,children:(0,m.jsx)(c.XB,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":z(f.open),...a,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(K,{titleId:f.titleId}),(0,m.jsx)(H,{contentRef:d,descriptionId:f.descriptionId})]})]})}),R="DialogTitle",F=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=x(R,n);return(0,m.jsx)(p.WV.h2,{id:i.titleId,...r,ref:t})});F.displayName=R;var T="DialogDescription",V=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=x(T,n);return(0,m.jsx)(p.WV.p,{id:i.descriptionId,...r,ref:t})});V.displayName=T;var U="DialogClose",Z=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,o=x(U,n);return(0,m.jsx)(p.WV.button,{type:"button",...r,ref:t,onClick:(0,i.M)(e.onClick,()=>o.onOpenChange(!1))})});function z(e){return e?"open":"closed"}Z.displayName=U;var J="DialogTitleWarning",[W,Q]=(0,s.k)(J,{contentName:I,titleName:R,docsSlug:"dialog"}),K=({titleId:e})=>{let t=Q(J),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&!document.getElementById(e)&&console.error(n)},[n,e]),null},H=({contentRef:e,descriptionId:t})=>{let n=Q("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return r.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&!document.getElementById(t)&&console.warn(i)},[i,e,t]),null},X=$,Y=O,G=E,ee=S,et=B,en=F,er=V,ei=Z},4018:function(e,t,n){"use strict";n.d(t,{VY:function(){return C},aV:function(){return M},fC:function(){return q},xz:function(){return E}});var r=n(9300),i=n(5994),o=n(8788),s=n(910),u=n(271),a=n(7234),c=n(3592),l=n(838),f=n(455),d=n(5444),p="Tabs",[h,y]=(0,o.b)(p,[s.Pc]),v=(0,s.Pc)(),[g,m]=h(p),b=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:u,activationMode:p="automatic",...h}=e,y=(0,c.gm)(u),[v,m]=(0,l.T)({prop:r,onChange:i,defaultProp:o});return(0,d.jsx)(g,{scope:n,baseId:(0,f.M)(),value:v,onValueChange:m,orientation:s,dir:y,activationMode:p,children:(0,d.jsx)(a.WV.div,{dir:y,"data-orientation":s,...h,ref:t})})});b.displayName=p;var _="TabsList",w=r.forwardRef((e,t)=>{let{__scopeTabs:n,loop:r=!0,...i}=e,o=m(_,n),u=v(n);return(0,d.jsx)(s.fC,{asChild:!0,...u,orientation:o.orientation,dir:o.dir,loop:r,children:(0,d.jsx)(a.WV.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});w.displayName=_;var k="TabsTrigger",x=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,disabled:o=!1,...u}=e,c=m(k,n),l=v(n),f=O(c.baseId,r),p=A(c.baseId,r),h=r===c.value;return(0,d.jsx)(s.ck,{asChild:!0,...l,focusable:!o,active:h,children:(0,d.jsx)(a.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...u,ref:t,onMouseDown:(0,i.M)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,i.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||o||!e||c.onValueChange(r)})})})});x.displayName=k;var $="TabsContent",j=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:i,forceMount:o,children:s,...c}=e,l=m($,n),f=O(l.baseId,i),p=A(l.baseId,i),h=i===l.value,y=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,d.jsx)(u.z,{present:o||h,children:({present:n})=>(0,d.jsx)(a.WV.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":f,hidden:!n,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:y.current?"0s":void 0},children:n&&s})})});function O(e,t){return`${e}-trigger-${t}`}function A(e,t){return`${e}-content-${t}`}j.displayName=$;var q=b,M=w,E=x,C=j}}]);